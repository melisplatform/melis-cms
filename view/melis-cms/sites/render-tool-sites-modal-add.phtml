<?php
$id = '';
if (!empty($this->zoneconfig['conf']['id']))
    $id = ' id="' .$this->zoneconfig['conf']['id'] . '"';

?>

<div class="modal-content" <?= $id; ?> data-melisKey="<?= $this->melisKey; ?>">
    <div class="modal-body padding-none" id="modal-site-creation">
        <div class="wizard">
            <div class="widget widget-tabs widget-wizard-pills widget-tabs-gray">
                <!-- Widget heading -->
                <div class="widget-head bg-gray">
                    <ul class="create-site-step">
                        <li class="status">
                            <span class="r">Step <span class="step-current">1</span> of <span class="steps-total"><?= count($this->stepsOrder);?></span></span><span class="r text-primary step-name"><?= $this->translate('tr_melis_cms_sites_tool_add_header_title_multi_lingual');?></span>
                        </li>
                        <?php
                        $stp = 1;
                        foreach($this->stepsOrder as $melisKey => $info) { ?>
                            <li class="step_<?= $stp; ?> active steps_number_indicator" data-stepName="<?= $info['title'];?>"><a><?= $stp; ?></a></li>
                        <?php $stp++; } ?>
                    </ul>
                </div>
                <!-- // Widget heading END -->
                <div class="widget-body innerAll inner-2x">
                    <div id="siteAddAlert" class="alert alert-danger hidden">
                        <?= $this->translate('tr_melis_cms_sites_tool_add_create_site_required_field'); ?>
                    </div>
                    <div class="owl-carousel owl-theme owl-loaded sites-steps-owl">
                        <?php
                            if (!empty($this->stepsOrder)) {
                                $step = 1;
                                foreach ($this->stepsOrder as $melisKey => $info) {
                                    echo "<div data-afterMove='".json_encode($info['afterMove'])."' data-beforeMove='".json_encode($info['beforeMove'])."' data-step='step_" . $step . "' id='step_".$step."_container' class='item'>" . $this->$melisKey . "</div>";
                                    $step++;
                                }
                            }
                        ?>
                    </div>
                    <div class="footer-modal d-flex flex-row justify-content-between">
                        <button type="button" data-dismiss="modal" class="btn btn-danger"><?php echo $this->translate('tr_meliscms_tool_sites_cancel')?></button>
                        <div class="prev-next-finish">
                            <button type="button" class="btn btn-success" id="btn-prev-step"><?php echo $this->translate('tr_meliscms_tool_sites_prev') ?></button>
                            <button type="button" class="btn btn-success" id="btn-next-step"><?php echo $this->translate('tr_meliscms_tool_sites_next') ?></button>
                            <button type="button" class="btn btn-success" id="btn-finish-step"><?php echo $this->translate('tr_meliscms_tool_sites_finish') ?></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
